---
import { getCollection } from 'astro:content'
const content = await getCollection('footer')
---

<footer>
	<h2 class="sr-only">Footer</h2>
	<div class="wrapper">
		<div>
			<img src="/icons/cdl-white.svg" alt="cdl logo" width={100} height={130} />
		</div>

		<div class="contact">
			<h3>Write to us at:</h3>
			<a class="mail" href="mailto:info@civicdatalab.in">
				info@civicdatalab.in</a
			>
			<div class="social">
				<a href="#">
					<img src="/icons/linkedin.svg" alt="" width={34} height={34} />
					<span class="sr-only">LinkedIn</span>
				</a>
				<a href="#">
					<img src="/icons/twitter.svg" alt="" width={34} height={34} />
					<span class="sr-only">LinkedIn</span>
				</a>
				<a href="#">
					<img src="/icons/github.svg" alt="" width={34} height={34} />
					<span class="sr-only">LinkedIn</span>
				</a>
			</div>
			<div class="contact-links">
				<a href="/license">License</a>
				<a href="/sitemap.xml">Sitemap</a>
			</div>
		</div>

		<div class="links">
			{
				Object.keys(content[0].data.links).map((key) => {
					return (
						<div class="links-wrapper">
							<h3>{key}</h3>
							<div class="links-items">
								{content[0].data.links[key].map((link) => {
									return link.url ? (
										<a href={link.url}>{link.title}</a>
									) : (
										<span>{link.title}</span>
									)
								})}
							</div>
						</div>
					)
				})
			}
		</div>
	</div>
</footer>
<style lang="scss">
	footer {
		background-color: var(--background-darker);
		padding-block: 112px;
		color: var(--text-on-background);
	}

	.wrapper {
		display: flex;
		justify-content: space-between;
		flex-wrap: wrap;
		gap: var(--space-4);
	}

	.contact {
		h3 {
			font-weight: 500;
			font-size: 1rem;
		}

		.mail {
			font-weight: 800;
			font-size: 1.25rem;
			margin-top: var(--space-2);
			color: var(--text-on-background);
			text-decoration: transparent;

			&:hover {
				text-decoration: underline;
			}
		}

		.contact-links {
			margin-top: var(--space-6);
			display: flex;
			gap: var(--space-2);

			a {
				color: var(--text-on-background);
				text-decoration: transparent;
				font-size: 0.875rem;
				line-height: 1.1;

				&:hover {
					text-decoration: underline;
				}

				&:first-child {
					border-right: 1px solid var(--text-on-background);
					padding-right: var(--space-2);
				}
			}
		}
	}

	.social {
		margin-top: var(--space-3);
		display: flex;
		gap: var(--space-4);
		flex-wrap: wrap;
		a {
			text-decoration: none;
		}
	}

	.links {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-12);
	}

	.links-wrapper {
		h3 {
			font-weight: 800;
			font-size: 1.25rem;
		}
	}

	.links-items {
		display: flex;
		flex-direction: column;
		gap: var(--space-3);
		margin-top: var(--space-4);
		a,
		span {
			font-weight: 500;
			color: var(--text-on-background);
		}

		a {
			text-decoration: transparent;

			&:hover {
				text-decoration: underline;
			}
		}
	}
</style>
